# URL Endpoints
## /sessions
Create a new session to receive an endpoint at which you can receive events.

- TODO: Use cookies for sessions instead? Something else? Maybe that's a client
concern (which is cool, because multiple session tracking implementations are
possible)
- TODO: Need an authentication mechanism

You'll get a session id and a queue URL back. Start listening to the SQS queue to
receive events generated by commands you submit. Commands you submit must include
the session id.

    {
      "session_id": "[session_id]",
      "queue_url": "[queue_url]"
    }


## /commands
Used to submit commands to the system
### POST
You post commands as JSON. Examples include:

    {
      "session_id": "[session_id]",
      "start_game": {}
    }

    {
      "session_id": "[session_id]",
      "join_game": {
        "game_id": "[game_id]"
      }
    }

    {
      "session_id": "[session_id]",
      "make_move": {
        game_id: "[game_id]",
        number: 1,
        mark: "X"
      }
    }

    {
      "session_id": "[session_id]",
      "list_games": {
        "some_kind_of_pagination_info": ""
      }
    }

TODO: define how multiple commands per dispatch could work


## Events

### game_started

### move_made

### player_joined

### game_over

### ?
Gets the state of a particular game

    board: [
      ["","",""],
      ["","",""],
      ["","",""]
    ],
    moves: [
      {square: "a1", mark: "X"},
      {square: "b2", mark: "O"}
    ],
    turn: "X",
    outcome: "UNKNOWN",
    winningLine: null


# Storage Implementation
Would be awesome if we can only use S3 and avoid the complexity of a database!

# Questions
## Should all interaction be event-driven? What about read requests?
Event-driven
Pros
- provides a complete record of all requests (including reads!), great for ML

Cons
- responses limited by messaging system max message size

## Should the shape of the responses (i.e. the game state) take into consideration the needs of the client?

React/Redux encourages an id for each component, so rather than an array shaped
like a tic-tac-toe board, you'd more likely want a hash, with square ids as
keys.


# Prior Art and Inspiration

## Evented APIS
http://eventedapi.org/spec/
This project doesn't seem to be dead (it's an API specification at Version 1
that hasn't been updated since 2011). Seems the company behind it (Kynetx) is
also dead.